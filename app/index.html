<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Weekly Hour Log</title>
    <link rel="stylesheet" href="style/style.css">
</head>
<body>
    <nav>
        <a href="flexScale.html"> Flex Scale</a>
    </nav>
    <header>
        <h1>Weekly hours</h1>
        <div class="pto">
                <label for="pto"> PTO: </label>
                <input type="time" id="pto" name= "pto" value="00:00">
        </div>
        <div class="lunch">
                <label for="lunch"> Lunch hr: </label>
                <input type="number" id="lunch" name= "lunch" value=0.5>
        </div>
        <div class="data">
            <p class="wkyTotal">weekly total</p>
        </div>
        <button id="reset">Reset </br> week</button>
    </header>
    <div class="week">
        <div class="day">
            <h3>Monday</h3>
            <div class="day__punchIn">
                <label for="punchIn"> In time: </label>
                <input type="time" id="punchIn" name= "MondayIn" value="08:00">
            </div>
            <div class="day__punchOut">
                <label for="punchOut"> Out time: </label>
                <input type="time" id="punchOut" name= "MondayOut" value="16:30">
            </div>
            <div class="day__dailyTotal">
                <p>
                    Daily Hours: 
                        <code>
                        <span id="total">8</span>
                        </code>
                        hrs
                </p>
            </div>
            <button id= "addHr"> Enter </button>
        </div>
        <div class="day">
        </div>
    </div>

    
    <script>

        //Define funciton to calculate minute Snap
        function flexTime (dayTime) {
            // pass the clock time
            let hrMin = dayTime.split(/[.:]/);
            //console.log(hrMin);
            //obtain hour values and return number
            let hrs = parseInt(hrMin[0], 10); //???? what does "10" mean
            //console.log(hrs);
            //index minute, apply flex time return number
            let flexing = Math.round(parseInt(hrMin[1], 10) / 6) / 10;
            //console.log(flexing);
            //combine minute with the hours
            let flextTime = hrs + flexing;
            console.log(flextTime);
            return flextTime;
        }
        // look into creating nodelist
        const punchIn = document.getElementById("punchIn")
        const punchOut = document.getElementById("punchOut")
        const total = document.getElementById("total")
        const addHr = document.getElementById("addHr")
        const pto = document.getElementById("pto")
        const lunch = document.getElementById("lunch")
        
        addHr.addEventListener('click',function (event) {
            inTime = flexTime(punchIn.value)
            outTime = flexTime(punchOut.value)
            total.innerText = (outTime - inTime) - lunch.value
        });

    
    </script>
</body>
</html>